<!DOCTYPE html>
<html lang="en-AU">
<head>
	<meta charset="UTF-8">
	<title>Neighbourhood dispute resolution</title>
	<link rel="stylesheet" href="adr.css">

	<!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script> -->
	<script src="../node_modules/angular/angular.min.js"></script>
	<script src="../node_modules/angular-animate/angular-animate.min.js"></script>
</head>
<body data-ng-app="disputeResolution" data-ng-controller="resultsController">

	<header>
		<p>HEADER</p>
		<p>logo, links and breacrumb go here</p>
	</header>

	<nav>
		<h2>Menu</h2>
		<p>website menu goes here</p>
	</nav>

	<main>
		<header>
			<h1>Neighbourhood dispute resolution</h1>
			<p>Use this tool to discover the options available to you in order to resolve a dispute.</p>
			<p>We provide general information on avoiding and resolving neighbourhood disputes. It is not legal advice and does not consider your exact circumstances. If you are unsure about your legal rights you should get <a href="http://www.qld.gov.au/law/legal-mediation-and-justice-of-the-peace/legal-advice-and-investment/legal-information-and-advice/">independent legal advice</a>.</p>
		</header>

		<form class="madlibs" method="get">
			<p>
				<label for="dispute-type">I have a</label>
				<select id="dispute-type" data-ng-model="story.disputeType">
					<option data-ng-repeat="option in model.disputeType" value="{{ option }}">{{ option | lowercase }}</option>
				</select>
				<label for="party-type">with</label>
				<select id="party-type" data-ng-model="story.party">
					<option data-ng-repeat="option in model.party" value="{{ option }}">{{ option | lowercase }}</option>
				</select>
				<label for="dispute-subject">about</label>
				<select id="dispute-subject" data-ng-model="story.disputeSubject">
					<option data-ng-repeat="option in model.disputeSubject" value="{{ option }}">{{ option | lowercase }}</option>
				</select>.
			</p>
		</form>

		<section class="optional">
			<form class="madlibs">
			<p>
				<label for="outcome">I want</label>
				<select id="outcome" data-ng-model="storySituation.outcome">
					<option value="an end to the fighting">an end to the fighting</option>
					<option value="an apology">an apology</option>
					<option value="a change of behaviour">a change of behaviour</option>
					<option value="money">money</option>
				</select>.
			</p>
			</form>
		</section>

		<!-- TODO: this looks nice, but is it too bold? is that an over-the-shoulder privacy issue? (for workplace or family disputes?) -->
		<blockquote class="story" data-ng-show="story.disputeType.length > 0 &amp;&amp; story.party.length > 0 &amp;&amp; story.disputeSubject.length > 0">
			<p>I have a <mark>{{ story.disputeType | lowercase }}</mark> with <mark>{{ story.party | lowercase }}</mark> about <mark>{{ story.disputeSubject | lowercase }}</mark>.</p>
		</blockquote>

		<blockquote class="optional" ng-show="storySituation.outcome">
			<p>I want <mark>{{ storySituation.outcome }}</mark>.</p>
		</blockquote>

		<section class="optional" data-ng-show="model.councilSubject.indexOf( story.disputeSubject ) > -1">
			<form class="madlibs">
				<p>
					Some {{ story.disputeType | lowercase }}s about {{ story.disputeSubject | lowercase }} are handled by your local council.
					We can help you find the right information if you <label for="council">tell us where you live:</label>
					<select id="council" data-ng-model="storySituation.council">
						<option data-ng-repeat="(org, data) in model.councils" value="{{ org }}">{{ org }}</option>
					</select>.
				</p>
			</form>
		</section>

		<blockquote class="optional" ng-show="storySituation.location.length > 2">
			<p>I live in <mark>{{ storySituation.location }}</mark>.</p>
		</blockquote>


		<section class="results" data-ng-show="story.disputeType.length > 0 &amp;&amp; story.party.length > 0 &amp;&amp; story.disputeSubject.length > 0">
			<section data-ng-repeat="resolution in ['Self', 'Assisted', 'Formal']" data-ng-class="{{ resolution }}">
				<header data-ng-if="resolution === 'Self'">
					<h2>Try resolving the {{ story.disputeType | lowercase }} yourself</h2>
					<p>Self resolution can be the fastest and cheapest way to resolve a {{ story.disputeType | lowercase }}.</p>
					<div>
						<input type="checkbox" id="tried-self" data-ng-model="storyHistory[ resolution ].tried">
						<label for="tried-self">I have already tried to resolve this {{ story.disputeType | lowercase }} myself</label>
					</div>
				</header>
				<header data-ng-if="resolution === 'Assisted'">
					<h2>Assistance resolving your {{ story.disputeType | lowercase }}</h2>
					<p>Mediation saves time, legal fees, and court costs for you and the community.</p>
					<div>
						<input type="checkbox" id="tried-assisted" data-ng-model="storyHistory[ resolution ].tried">
						<label for="tried-assisted">We have tried assisted resolutions to this {{ story.disputeType | lowercase }}</label>
					</div>
				</header>
				<header data-ng-if="resolution === 'Formal'">
					<h2>Formal resolution to your {{ story.disputeType | lowercase }}</h2>
					<p>When you need an official resolution. Costs time and money but will give you a result that can be enforced.</p>
				</header>
				<ul ng-show="! storyHistory[ resolution ].tried" class="resources">
	<!-- 			
						<li data-ng-if="storySituation.location.indexOf( '4510' ) > -1 &amp;&amp; resolution === 'Self'">
							<a href="https://www.moretonbay.qld.gov.au/general.aspx?id=13577">Barking dogs - Moreton Bay Regional Council</a>
							<small class="tag guidelines">guidelines</small>
							<span class="description">All dogs bark, but some barking dogs become a real neighbourhood nuisance – greatly reducing the quality of life for their neighbours. Barking is the most common animal behaviour problem Council is asked to deal with.</span>
						</li>
					 -->
					<li data-ng-repeat="result in results | filter:story | filter:{ resolution: resolution } | filter: documentTypeFilter | filter: { jurisdiction: storySituation.council }">
						<a data-ng-href="{{ result.URL }}">{{ result.Title || result.filename }}</a>
						<small>({{ result.jurisdiction }})</small>
						<small data-ng-if="result.format === 'application/pdf'">(PDF)</small>
						<small data-ng-if="result.documentType" class="tag" data-ng-class="result.documentType">{{ result.documentType }}</small>
						<span class="description">{{ result.Description || result.Purpose || result.Comments }}</span>
	<!--
						<dl>
							<dt>Subject</dt>
							<dd>{{ result.disputeSubject }}</dd>
							<dt>Party</dt>
							<dd>{{ result.party }}</dd>
							<dt>Actions</dt>
							<dd>{{ result.resolution }}</dd>
						</dl>
	-->
					</li>
				</ul>
			</section>
		</section>
	</main>


	<aside>
		<h2>I want to see</h2>
		<ul class="filter checklist">
			<li data-ng-repeat="(tag, value) in resultFilter.documentType">
				<input type="checkbox" data-ng-model="resultFilter.documentType[ tag ]" data-ng-checked="resultFilter.documentType[ tag ]" id="filter-{{ tag }}"><label class="tag" data-ng-class="tag" for="filter-{{ tag }}">{{ tag }}</label>
			</li>
		</ul>
	</aside>

	<aside>
		<h2>Check the law</h2>
		<ul>
			<li data-ng-repeat="result in results | filter:story | filter:{ documentType: 'act' } : true">
				<a data-ng-href="{{ result.URL }}">{{ result.Title }}</a>
			</li>
		</ul>
	</aside>

	<aside>
		<h2>Legal information and advice</h2>
		<p><a href="http://www.qld.gov.au/law/legal-mediation-and-justice-of-the-peace/legal-advice-and-investment/legal-information-and-advice/">Find a solicitor</a>, law firm, barrister or free legal services available to vulnerable and disadvantaged Queenslanders.</p>
	</aside>

	<footer>
		<p>page feedback and footer links go here</p>
		<p>© The State of Queensland 1995–2015</p>
		<p><a href="https://www.qld.gov.au">Queensland Government</a></p>
	</footer>

	<script src="angular-adr.js"></script>
	<script src="neighbourhood-data-import-out.js"></script>

</body>
</html>